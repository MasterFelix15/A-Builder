<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>A-Builder</title>
    <meta name="description" content="A-Builder by Zhang Tianrui">
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-event-set-component@4.0.1"></script>
    <script src="https://npmcdn.com/aframe-layout-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-template-component@3.1.1"></script>
    <script src="https://rawgit.com/rdub80/aframe-shake2show-component/master/dist/aframe-shake2show-component.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.6.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://unpkg.com/aframe-text-geometry-component@0.5.1/dist/aframe-text-geometry-component.min.js"></script>
    <script src="components/selectable.js"></script>
    <script src="components/stackable.js"></script>
    <script src="components/pressable.js"></script>


</head>
<body>
<a-scene stats>
    <a-assets>
        <audio id="click-sound" crossorigin="anonymous" src="assets/click-01.mp3"></audio>

        <script id="geometry" type="text/html">
            <a-entity class="geometry"
                      geometry="primitive: circle; radius: 0.2"
                      material="side: double; transparent: true; opacity: 0"
                      event-set__3="_event: mouseenter; scale: 1.2 1.2 1"
                      event-set__4="_event: mouseleave; scale: 1 1 1"
                      sound="on: click; src: #click-sound"
                      selectable="on: click; src: ${primitive}">
                <a-entity geometry="primitive: ring; radiusInner: 0.16; radiusOuter: 0.2"
                          material="side: double; color: #cccccc"></a-entity>
                <a-entity geometry="primitive: ${primitive}"
                          scale="${scale} ${scale} ${scale}"
                          material="shader: standard; color: #999999"></a-entity>
            </a-entity>
        </script>

        <script id="button" type="text/html">
            <a-entity class="geometry"
                      geometry="primitive: circle; radius: 0.2"
                      material="side: double; transparent: true; opacity: 0"
                      event-set__3="_event: mouseenter; scale: 1.2 1.2 1"
                      event-set__4="_event: mouseleave; scale: 1 1 1"
                      sound="on: click; src: #click-sound"
                      pressable="on: click; src: ${behavior}">
                <a-entity geometry="primitive: ring; radiusInner: 0.16; radiusOuter: 0.2"
                          material="side: double; color: #cccccc"></a-entity>
                <a-entity text="width: 5.5; anchor: center; align: center; color: #666666; value: ${text}"></a-entity>
            </a-entity>
        </script>
    </a-assets>


    <!-- sky and ground -->
    <a-sky color="#6EBAA7" radius="20"></a-sky>

    <a-entity id="plane" class="geometry"
              geometry="primitive: circle; radius: 20"
              rotation="-90 0 0"
              material="side: double; color: #ffffff"
              sound="on: click; src: #click-sound"
              stackable="on: click">
    </a-entity>

    <!-- camera and cursor -->
    <a-entity id="avatar" position="0 1 0" wasd-controls>
        <a-entity id="camera" camera look-controls>
            <a-cursor id="cursor"
                      animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
                      animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
                      event-set__1="_event: mouseenter; color: springgreen"
                      event-set__2="_event: mouseleave; color: black"
                      fuse="false"
                      raycaster="objects: .geometry"></a-cursor>
        </a-entity>
    </a-entity>

    <!-- dynamic components: marker, menu and prototypes-->
    <a-entity id="marker" visible="true">
        <a-entity geometry="primitive: ring; radiusInner: 0.05; radiusOuter: 0.07"
                  material="side: double; color: #6EBAA7"
                  position="0 0 0.005" rotation="0 0 0"></a-entity>
        <a-entity geometry="primitive: cone; radius-bottom: 0.06; radius-top: 0; height: 0.1"
                  material="side: double; color: #6EBAA7"
                  position="0 0 0.05" rotation="-90 0 0"></a-entity>
    </a-entity>

    <a-entity id="menu" visible="false" look-at="[camera]">
        <a-entity look-at="[camera]" position="-0.6 0 0.25">
            <a-entity scale="0.6 0.6 0.6">
                <a-entity template="src: #geometry"
                          position="0 0.5 0"
                          rotation="0 0 0"
                          data-primitive="box"
                          data-scale="0.1"></a-entity>
                <a-entity template="src: #geometry"
                          position="0 0 0"
                          rotation="0 0 0"
                          data-primitive="cone"
                          data-scale="0.1"></a-entity>
                <a-entity template="src: #geometry"
                          position="0 -0.5 0"
                          rotation="0 0 0"
                          data-primitive="cylinder"
                          data-scale="0.1"></a-entity>
                <a-entity template="src: #geometry"
                          position="0.5 0.5 0"
                          rotation="0 0 0"
                          data-primitive="dodecahedron"
                          data-scale="0.1"></a-entity>
                <a-entity template="src: #geometry"
                          position="0.5 0 0"
                          rotation="0 0 0"
                          data-primitive="octahedron"
                          data-scale="0.1"></a-entity>
                <a-entity template="src: #geometry"
                          position="0.5 -0.5 0"
                          rotation="0 0 0"
                          data-primitive="sphere"
                          data-scale="0.1"></a-entity>
                <a-entity template="src: #geometry"
                          position="-0.5 0.5 0"
                          rotation="0 0 0"
                          data-primitive="tetrahedron"
                          data-scale="0.1"></a-entity>
                <a-entity template="src: #geometry"
                          position="-0.5 0 0"
                          rotation="0 0 0"
                          data-primitive="torus"
                          data-scale="0.05"></a-entity>
                <a-entity template="src: #geometry"
                          position="-0.5 -0.5 0"
                          rotation="0 0 0"
                          data-primitive="torusKnot"
                          data-scale="0.05"></a-entity>
            </a-entity>
        </a-entity>

        <a-entity look-at="[camera]" scale="0.6 0.6 0.6">
            <a-entity template="src: #button"
                      position="0 0.5 0"
                      rotation="0 0 0"
                      data-behavior="del"
                      data-text="D"></a-entity>
            <a-entity template="src: #button"
                      position="0 0 0"
                      rotation="0 0 0"
                      data-behavior="tp"
                      data-text="T"></a-entity>
        </a-entity>

        <a-entity look-at="[camera]" position="0.6 0 0.25">
            <a-entity scale="0.6 0.6 0.6">
                <a-entity template="src: #button"
                          position="0 0.5 0"
                          rotation="0 0 0"
                          data-behavior="size-"
                          data-text="-"></a-entity>
                <a-entity template="src: #button"
                          position="0 0 0"
                          rotation="0 0 0"
                          data-behavior="rotation-"
                          data-text="-"></a-entity>
                <a-entity template="src: #button"
                          position="0 -0.5 0"
                          rotation="0 0 0"
                          data-behavior="position-"
                          data-text="-"></a-entity>
                <a-entity template="src: #button"
                          position="0.5 0.5 0"
                          rotation="0 0 0"
                          data-behavior="size+"
                          data-text="+"></a-entity>
                <a-entity template="src: #button"
                          position="0.5 0 0"
                          rotation="0 0 0"
                          data-behavior="rotation+"
                          data-text="+"></a-entity>
                <a-entity template="src: #button"
                          position="0.5 -0.5 0"
                          rotation="0 0 0"
                          data-behavior="position+"
                          data-text="+"></a-entity>
                <a-entity template="src: #button"
                          position="-0.5 0.5 0"
                          rotation="0 0 0"
                          data-behavior="axis-x"
                          data-text="X"></a-entity>
                <a-entity template="src: #button"
                          position="-0.5 0 0"
                          rotation="0 0 0"
                          data-behavior="axis-y"
                          data-text="Y"></a-entity>
                <a-entity template="src: #button"
                          position="-0.5 -0.5 0"
                          rotation="0 0 0"
                          data-behavior="axis-z"
                          data-text="Z"></a-entity>
            </a-entity>
        </a-entity>
    </a-entity>

    <a-entity id="axis-system" visible="false">
        <a-entity geometry="primitive: cylinder; radius: 0.004; height: 0.4"
                  material="side: double; color: #2A363B"
                  position="0 -0.2 0" rotation="0 0 0"></a-entity>
        <a-entity id="z-arrow" geometry="primitive: cone; radius-bottom: 0.02; radius-top: 0; height: 0.1"
                  material="side: double; color: #2A363B"
                  position="0 -0.4 0" rotation="180 0 0"></a-entity>
        <a-entity geometry="primitive: cylinder; radius: 0.004; height: 0.4"
                  material="side: double; color: #2A363B"
                  position="0.2 0 0" rotation="0 0 -90"></a-entity>
        <a-entity id="x-arrow" geometry="primitive: cone; radius-bottom: 0.02; radius-top: 0; height: 0.1"
                  material="side: double; color: #FF4E50"
                  position="0.4 0 0" rotation="0 0 -90"></a-entity>
        <a-entity geometry="primitive: cylinder; radius: 0.004; height: 0.4"
                  material="side: double; color: #2A363B"
                  position="0 0 0.2" rotation="90 0 0"></a-entity>
        <a-entity id="y-arrow" geometry="primitive: cone; radius-bottom: 0.02; radius-top: 0; height: 0.1"
                  material="side: double; color: #2A363B"
                  position="0 0 0.4" rotation="90 0 0"></a-entity>
    </a-entity>


    <a-entity class="geometry" id="box-prototype" visible="false">
        <a-entity geometry="primitive: box; depth: 0.4; height: 0.4; width: 0.4" rotation="90 0 0"
                  material="shader: standard; color: #999999" sound="on: click; src: #click-sound" stackable="on: click"></a-entity>
    </a-entity>
    <a-entity class="geometry" id="cone-prototype" visible="false">
        <a-entity geometry="primitive: cone; height: 0.4; radius-bottom: 0.2; radius-top: 0" rotation="90 0 0"
                  material="shader: standard; color: #999999" sound="on: click; src: #click-sound" stackable="on: click"></a-entity>
    </a-entity>
    <a-entity class="geometry" id="cylinder-prototype" visible="false">
        <a-entity geometry="primitive: cylinder; radius: 0.2; height: 0.4" rotation="90 0 0"
                  material="shader: standard; color: #999999" sound="on: click; src: #click-sound" stackable="on: click"></a-entity>
    </a-entity>
    <a-entity class="geometry" id="dodecahedron-prototype" visible="false">
        <a-entity geometry="primitive: dodecahedron; radius: 0.2" rotation="90 0 0"
                  material="shader: standard; color: #999999" sound="on: click; src: #click-sound" stackable="on: click"></a-entity>
    </a-entity>
    <a-entity class="geometry" id="octahedron-prototype" visible="false">
        <a-entity geometry="primitive: octahedron; radius: 0.2" rotation="90 0 0"
                  material="shader: standard; color: #999999" sound="on: click; src: #click-sound" stackable="on: click"></a-entity>
    </a-entity>
    <a-entity class="geometry" id="octahedron-prototype" visible="false">
        <a-entity geometry="primitive: octahedron; radius: 0.2" rotation="90 0 0"
                  material="shader: standard; color: #999999" sound="on: click; src: #click-sound" stackable="on: click"></a-entity>
    </a-entity>
    <a-entity class="geometry" id="sphere-prototype" visible="false">
        <a-entity geometry="primitive: sphere; radius: 0.2" rotation="90 0 0"
                  material="shader: standard; color: #999999" sound="on: click; src: #click-sound" stackable="on: click"></a-entity>
    </a-entity>
    <a-entity class="geometry" id="tetrahedron-prototype" visible="false">
        <a-entity geometry="primitive: tetrahedron; radius: 0.2" rotation="90 0 0"
                  material="shader: standard; color: #999999" sound="on: click; src: #click-sound" stackable="on: click"></a-entity>
    </a-entity>
    <a-entity class="geometry" id="torus-prototype" visible="false">
        <a-entity geometry="primitive: torus; radius: 0.12; radiusTubular: 0.04" rotation="90 0 0"
                  material="shader: standard; color: #999999" sound="on: click; src: #click-sound" stackable="on: click"></a-entity>
    </a-entity>
    <a-entity class="geometry" id="torusKnot-prototype" visible="false">
        <a-entity geometry="primitive: torusKnot; radius: 0.12; radiusTubular: 0.02" rotation="90 0 0"
                  material="shader: standard; color: #999999" sound="on: click; src: #click-sound" stackable="on: click"></a-entity>
    </a-entity>


</a-scene>
</body>
</html>
